<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Slider Inputs</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
    <h1>Input Sliders</h1>

    <label for="intensity">Intensity (0 - 100): <span id="value100">50</span></label>
    <input type="range" id="intensity" min="0" max="100" value="50">

    <label for="duration">Duration (0 - 15): <span id="value15">7</span></label>
    <input type="range" id="duration" min="0" max="15" value="7">

    <button id="confirmBtn">Confirm</button>

    <div id="output">
        <p>Intensity: <span id="outputIntensity">50</span></p>
        <p>Duration: <span id="outputDuration">7</span></p>
    </div>
    </div>

    <script>
    const intensitySlider = document.getElementById('intensity');
    const durationSlider = document.getElementById('duration');
    const value100 = document.getElementById('value100');
    const value15 = document.getElementById('value15');
    const outputIntensity = document.getElementById('outputIntensity');
    const outputDuration = document.getElementById('outputDuration');
    const confirmBtn = document.getElementById('confirmBtn');

    // Update the dynamic value display as sliders are moved
    intensitySlider.addEventListener('input', () => {
        value100.textContent = intensitySlider.value;
        outputIntensity.textContent = intensitySlider.value;
    });

    durationSlider.addEventListener('input', () => {
        value15.textContent = durationSlider.value;
        outputDuration.textContent = durationSlider.value;
    });

    // Handle the confirm button click
    confirmBtn.addEventListener('click', async () => {
        const response = await fetch('/submit', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            intensity: intensitySlider.value,
            duration: durationSlider.value
        })
        });

        const result = await response.json();
        alert(`Server says: ${result.message}`);
    });
    </script>
</body>
</html>
